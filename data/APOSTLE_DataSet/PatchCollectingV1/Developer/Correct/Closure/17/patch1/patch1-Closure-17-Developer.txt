Fixed type - casting issues in TypedScopeCreator